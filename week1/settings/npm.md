# 🐣 NPM

### ❗️ NPM

```
npm(노드 패키지 매니저/Node Package Manager)은 자바스크립트 프로그래밍 언어를 위한 패키지 관리자이다. 자바스크립트 런타임 환경 Node.js의 기본 패키지 관리자이다.
```

npm을 통해 패키지 (package) 또는 모듈 (module) 이라고 불리는 자바스크립트 소프트웨어를 자신의 프로젝트에 설치할 수 있다.

***

### ❗️ package.json

```
현재 프로젝트에 관한 정보와 패키지 매니저(npm, yarn)을 통해 설치한 모듈들의 의존성을 관리하는 파일이다.
```

### ❗️ package-lock.json

```
npm을 사용하여package.json 파일을 또는 node_modules 트리를 수정하면 자동으로 생성되는 파일이다. 정확한 의존성 버전 관리를 위해 사용된다.
```

package-lock.josn은 파일이 생성되는 시점의 의존성 트리에 대한 정보를 가지고 있다. package.json 파일은 특정 버전이 아니라 의존성 선언에 version range가 사용된다.

예를 들어 npm install express를 실행하게 되면 package.json 파일에는 “^4.16.3”(Caret Ranges)로 버전 범위가 추가된다. 해당 package.json 파일로 npm install을 실행하면 현재는 4.16.3 버전이 설치되지만 express의 새로운 minor, patch가 publish 되면 동일한 package.json 파일로 npm install을 실행해도 4.17.3, 이나 4.16.4 같은 업데이트된 버전이 설치된다.

협업을 하는 경우 서로가 정확한 버전이 아닐 경우 오류를 발생시키는 경우가 있다. 따라서 package-lock.json 파일은 의존성 트리에 대한 정보를 가지고 package-lock.json 파일이 작성된 시점의 의존성 트리가 다시 생성될 수 있도록 보장한다.

#### ❓ 애초에 package.jsons에서 버전명을 정확히 명시하면 되지 않나?

만약 package.json에 패키지 버전명을 정확히 명시하게 된다면, 프로젝트에서 사용하고 있는 패키지의 중요한 버그 수정이 이루어질 때 마다 프로젝트의 package.json에 적혀있는 버전도 수정을 해야하기 때문이다. package.josn은 모든 크고 작은 패키지들의 릴리즈에 대해 항상 추적하고 수정해야하는 엄청난 귀찮음과 수고스러움을 version range로 명시함으로써, 이를 해결해준다.

***

#### 모듈 시스템

분리된 각각의 파일을 모듈이라고 한다. 웹이 복잡해서 지면서 여러 파일을 불러오려면 여러개의 스크립트를 불러와야 했는데 이 스크립트들은 전역 스코프를 공유하기 때문에 스크립트들이 나눠져있어도 동작할때에는 하나의 파일안에서 있는 것 처럼 사용되어서 불편을 격었다. 예를 들면 상단의 스크립트에서 선언된 변수명이 하단 스크립트에도 있다면 마지막 스크립트의 값으로 재할당 되는 등 예기치 않은 오류가 나온다. 이것을 해결하기 위해 나온 방법이 모듈 시스템이다.

모듈로 분리하면 코드의 재사용성이 가능해진다.(import / export )

### ❗️ ES Modules

```
ES6에 도입된 모듈 시스템.
import, export를 사용해 분리된 자바스크립트 파일끼리 서로 접근할 수 있다.
```

### ❗️ CommonJS

NodeJS 환경에서 자바스크립트 모듈 환경을 사용하기 위해 만들어진 모듈 시스템 exports와 require로 파일을 접근
